<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="IDE Speedup To increase IDE performance you need to disable all unnecessary stuff and tune some settings.
Increase memory heap Increasing memory heap
Enable remote build Mirakle
Disable unnecessary modules This section contains Avito specific details  We develop all our Android applications in a single monorepo. If you work only with some apps you can disable others. To do so, disable relevant Gradle properties on a user level in ~/."><meta property="og:title" content="IDE Speedup"><meta property="og:description" content="IDE Speedup To increase IDE performance you need to disable all unnecessary stuff and tune some settings.
Increase memory heap Increasing memory heap
Enable remote build Mirakle
Disable unnecessary modules This section contains Avito specific details  We develop all our Android applications in a single monorepo. If you work only with some apps you can disable others. To do so, disable relevant Gradle properties on a user level in ~/."><meta property="og:type" content="article"><meta property="og:url" content="https://avito-tech.github.io/avito-android/docs/ide/speedup/"><title>IDE Speedup | Avito Android</title><link rel=icon href=/avito-android/favicon.png type=image/x-icon><link rel=stylesheet href=/avito-android/book.min.63eb88daa545365405ecdbb21033286a325c60a36cfa6d22d21e7c3bc9286941.css integrity="sha256-Y+uI2qVFNlQF7NuyEDMoajJcYKNs+m0i0h58O8koaUE="><script defer src=/avito-android/en.search.min.d9e337e5dc38abc662c5cf809700f6780dbb7534e363f2dcc54816fe59bb388f.js integrity="sha256-2eM35dw4q8Zixc+AlwD2eA27dTTjY/LcxUgW/lm7OI8="></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-157613383-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><input type=checkbox class=hidden id=menu-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/avito-android><span>Avito Android</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=https://avito-tech.github.io/avito-android/>Introduction</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/tech_radar/techradar/>Tech radar</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/knownissues/>Known Issues</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/contacts/>Contacts</a></li><li>Projects<ul><li><a href=https://avito-tech.github.io/avito-android/docs/projects/buildchecks/>Build checks</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/projects/buildproperties/>Build properties</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/projects/buildtrace/>Build trace</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/projects/cisteps/>CI Steps</a></li></ul></li><li>Contributing<ul><li><a href=https://avito-tech.github.io/avito-android/docs/contributing/howtostart/>How to start</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/contributing/docs/>Documentation</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/contributing/codereview/>Code Review</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/contributing/codestyle/>Code Style</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/contributing/featuretoggles/>Feature Toggles</a></li></ul></li><li>IDE<ul><li><a href=https://avito-tech.github.io/avito-android/docs/ide/configurations/>Конфигурации</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/ide/templates/>Шаблоны</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/ide/speedup/>Speedup</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/ide/benchmarking/>Бенчмарки</a></li></ul></li><li>Builds<ul><li><a href=https://avito-tech.github.io/avito-android/docs/assemble/buildtypes/>Типы сборки</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/assemble/dependencies/>Зависимости</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/assemble/minimization/>Минимизация</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/assemble/benchmarks/>Бенчмарки</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/assemble/profiling/>Профилирование</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/assemble/buildmetrics/>Метрики</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/assemble/mirakle/>Mirakle</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/assemble/troubleshooting/>Troubleshooting</a></li></ul></li><li>Architecture<ul><li><a href=https://avito-tech.github.io/avito-android/docs/architecture/dagger/>Dagger</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/architecture/modules/>Modules</a></li></ul></li><li><a href=https://avito-tech.github.io/avito-android/docs/analytics/analytics/>Аналитика</a><ul><li><a href=https://avito-tech.github.io/avito-android/docs/analytics/statsd/>Statsd</a></li></ul></li><li>Testing<ul><li><a href=https://avito-tech.github.io/avito-android/docs/test/run/>Запуск тестов</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test/runner/>Test Runner</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test/manual/>Ручное</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test/testmanagementsystem/>Test Management System</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test/testcaseincode/>Test case in code</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test/unittesting/>Юнит тесты</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test/screenshottesting/>Скриншотные тесты</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test/testminimized/>Test minimized</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test/reportviewer/>Report Viewer</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test/troubleshootingui/>Troubleshooting</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test/workmanager/>Work Manager Testing</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test/flakyannotation/>Flaky annotation</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test/flakytests/>Нестабильные тесты</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test/toast/>Toast</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test/snackbar/>Snackbar</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test/screenchecks/>Screen checks</a></li></ul></li><li><a href=https://avito-tech.github.io/avito-android/docs/test_framework/testframework/>Test framework</a><ul><li><a href=https://avito-tech.github.io/avito-android/docs/test_framework/mocking/>Mocking</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/test_framework/internals/>Internals</a></li></ul></li><li><a href=http://links.k.avito.ru/ff>Design System</a></li><li>Performance<ul><li><a href=https://avito-tech.github.io/avito-android/docs/performance/analytics/>Аналитика</a></li></ul></li><li>Checks<ul><li><a href=https://avito-tech.github.io/avito-android/docs/checks/androidlint/>Android lint</a></li></ul></li><li>CI<ul><li><a href=https://avito-tech.github.io/avito-android/docs/ci/civalues/>Требования</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/projects/cisteps/>CI Gradle Plugin</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/ci/customgradleplugins/>Custom Gradle Plugins</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/ci/impactanalysis/>Impact analysis</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/ci/containers/>Containers</a></li></ul></li><li>CD<ul><li><a href=https://avito-tech.github.io/avito-android/docs/cd/release/>Релиз</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/cd/artifacts/>Артефакты сборки</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/cd/qapps/>QApps</a></li></ul></li><li><a href=https://avito-tech.github.io/avito-android/docs/release/>Infra Release</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/infrastructure/>Infrastructure (Github project)</a></li><li><a href=https://avito-tech.github.io/avito-android/docs/externallibrarychangeprocess/>Внешние библиотеки</a></li></ul><ul><li><a href=/avito-android/posts/>Blog</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/avito-android/svg/menu.svg class=book-icon alt=Menu></label>
<strong>IDE Speedup</strong>
<label for=toc-control><img src=/avito-android/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><input type=checkbox class=hidden id=toc-control><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#increase-memory-heap>Increase memory heap</a></li><li><a href=#enable-remote-build>Enable remote build</a></li><li><a href=#disable-unnecessary-modules>Disable unnecessary modules</a></li><li><a href=#disable-extra-work-on-gradle-sync>Disable extra work on Gradle sync</a></li><li><a href=#reuse-gradle-daemons>Reuse Gradle daemons</a></li><li><a href=#disable-unneeded-plugins>Disable unneeded plugins</a></li><li><a href=#exclude-project-from-indexing-and-antiviruses>Exclude project from indexing and antiviruses</a></li><li><a href=#ignore-unneeded-files>Ignore unneeded files</a></li><li><a href=#free-more-memory>Free more memory</a></li><li><a href=#enable-power-save-mode>Enable power save mode</a></li></ul></nav></aside></header><article class=markdown><h1 id=ide-speedup>IDE Speedup</h1><p>To increase IDE performance you need to disable all unnecessary stuff and tune some settings.</p><h2 id=increase-memory-heap>Increase memory heap</h2><p><a href=https://www.jetbrains.com/help/idea/increasing-memory-heap.html>Increasing memory heap</a></p><h2 id=enable-remote-build>Enable remote build</h2><p><a href=https://avito-tech.github.io/avito-android/docs/assemble/mirakle/>Mirakle</a></p><h2 id=disable-unnecessary-modules>Disable unnecessary modules</h2><blockquote class="book-hint info">This section contains Avito specific details</blockquote><p>We develop all our Android applications in a single <a href=https://en.wikipedia.org/wiki/Monorepo>monorepo</a>. If you work only with some apps you can disable others.
To do so, disable relevant <a href=https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_configuration_properties>Gradle properties on a user level</a>
in <code>~/.gradle/gradle.properties</code>:</p><pre><code class=language-properties data-lang=properties>syncAvito=false
sync&lt;app module&gt;
</code></pre><p>These flags are used in a simple way in <code>settings.gradle</code>:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-groovy data-lang=groovy><span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>syncAvito<span style=color:#f92672>.</span><span style=color:#a6e22e>toBoolean</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>
    include<span style=color:#f92672>(</span><span style=color:#e6db74>&#34;:avito&#34;</span><span style=color:#f92672>)</span>
    <span style=color:#f92672>...</span>
<span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#f92672>{</span>
    logger<span style=color:#f92672>.</span><span style=color:#a6e22e>lifecycle</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Avito modules are disabled&#34;</span><span style=color:#f92672>)</span>
<span style=color:#f92672>}</span>
</code></pre></div><p>Also, you can disable specific modules manually in IDE: <a href=https://www.jetbrains.com/help/idea/unloading-modules.html>Unloading modules</a></p><h2 id=disable-extra-work-on-gradle-sync>Disable extra work on Gradle sync</h2><ul><li><strong>Preferences > Experimental > Only sync the active variant</strong></li><li><strong>Preferences > Experimental > Do not build Gradle task list during Gradle sync</strong></li></ul><h2 id=reuse-gradle-daemons>Reuse Gradle daemons</h2><p>Gradle can run <a href=https://docs.gradle.org/5.0/userguide/gradle_daemon.html#sec:why_is_there_more_than_one_daemon_process_on_my_machine>multiple daemons</a>
if there are no compatible ones. You can see current Gradle daemons by this command:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>./gradlew --status
</code></pre></div><p>To make Gradle daemons more reusable, you need to reuse the same JDK for all Gradle projects:</p><ol><li>Make sure you use an embedded JDK in Android Studio: <a href=https://developer.android.com/studio/intro/studio-config#jdk></a></li><li>Specify this JDK in <a href=https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_configuration_properties>Gradle properties on a user level</a>
in <code>~/.gradle/gradle.properties</code>:</li></ol><pre><code class=language-properties data-lang=properties>org.gradle.java.home=&lt;path to the embedded JDK&gt;
</code></pre><h2 id=disable-unneeded-plugins>Disable unneeded plugins</h2><p>Android Studio comes with a lot of plugins. Ideally, they shouldn&rsquo;t affect the performance if you don&rsquo;t use them.
To be sure and to avoid any possible overhead it&rsquo;s better to disable that you don&rsquo;t use.
These are only the possible options:</p><ul><li>Android APK Support</li><li>Android Games</li><li>Android NDK</li><li>App Links</li><li>Assistant</li><li>CVS, hg4idea, Subversion integration</li><li>Firebase &mldr;</li><li>GitHub</li><li>Google &mldr;</li><li>Task management</li><li>Terminal</li><li>Test recorder, TestNG</li><li>YAML</li></ul><h2 id=exclude-project-from-indexing-and-antiviruses>Exclude project from indexing and antiviruses</h2><p>Gradle generates many files during a build. It&rsquo;s extra work for antiviruses and any search indexing.<br>Exclude these directories:</p><ul><li>The project directory</li><li>Android SDK</li><li>Android Studio</li><li>~/.gradle</li><li>~/.android</li><li>~/.m2</li><li>~/.gradle-profiler</li><li>~/gradle-profiler</li></ul><div class=book-tabs><input type=radio class=hidden name=tabs-indexing id=tabs-indexing-0 checked>
<label for=tabs-indexing-0>macOS</label><div class="book-tabs-content markdown-inner"><p>Add an exclusion to <a href=https://support.apple.com/guide/mac-help/change-spotlight-preferences-mchlp2811/mac><strong>System preferences > Spotlight > Privacy</strong></a>.</p><p>tip: press <em>Cmd + Shift + <strong>.</strong></em> to see hidden files in Finder</p></div><input type=radio class=hidden name=tabs-indexing id=tabs-indexing-1>
<label for=tabs-indexing-1>Windows</label><div class="book-tabs-content markdown-inner"><a href=https://support.microsoft.com/en-us/help/4028485/windows-10-add-an-exclusion-to-windows-security>Add an exclusion to Windows Security</a></div></div><h2 id=ignore-unneeded-files>Ignore unneeded files</h2><p><code>build</code> directories in modules contain many files. You can hide and ignore them from the Editor.
We assume that any little bit can help to IDE.</p><p><strong>Preferences > Editor > File Types > Ignore Files and Folders</strong></p><blockquote class="book-hint warning"><p>Some intermediate build files are still needed for development.</p><ul><li><code>generated/source</code> contains <code>BuildConfig</code>.</li><li><code>apt</code>, <code>kapt</code>, <code>kaptKotlin</code> contains files from annotation processors.</li></ul><p>They will be unreachable in an editor and can break a refactoring.</p></blockquote><h2 id=free-more-memory>Free more memory</h2><p>Java are greedy for RAM. The worst case scenario is <a href=https://en.wikipedia.org/wiki/Paging#Implementations>memory swapping</a>.<br>Check it out, what applications can be shrinked.</p><h2 id=enable-power-save-mode>Enable power save mode</h2><p>The last resort is a power save mode. It disables code inspections and syntax highlighting in a current file.<br>Use <strong>File > Power Save Mode</strong> or find an icon <img src=https://resources.jetbrains.com/help/img/idea/2020.1/icons.ide.hectorOn@2x.png alt>
in a <a href=https://www.jetbrains.com/help/idea/guided-tour-around-the-user-interface.html#status-bar>status bar</a>.</p></article><footer class=book-footer><div class="flex justify-between"><div class=book-languages tabindex=0 aria-haspopup=true><ul><li class=flex><img src=/avito-android/svg/translate.svg class=book-icon alt=Languages>
English</li></ul><ul class=book-languages-list><li class=active><a href=/avito-android/ class=flex><img src=/avito-android/svg/translate.svg class=book-icon alt=Languages>
English</a></li><li><a href=/avito-android/ru/ class=flex><img src=/avito-android/svg/translate.svg class=book-icon alt=Languages>
Русский</a></li></ul></div><div><a class="flex align-center" href=https://github.com/avito-tech/avito-android/tree/develop/docs/content/docs/ide/Speedup.md target=_blank rel=noopener><img src=/avito-android/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div><div><a class="flex justify-end" href=/avito-android/docs/contacts><span>Contact us</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#increase-memory-heap>Increase memory heap</a></li><li><a href=#enable-remote-build>Enable remote build</a></li><li><a href=#disable-unnecessary-modules>Disable unnecessary modules</a></li><li><a href=#disable-extra-work-on-gradle-sync>Disable extra work on Gradle sync</a></li><li><a href=#reuse-gradle-daemons>Reuse Gradle daemons</a></li><li><a href=#disable-unneeded-plugins>Disable unneeded plugins</a></li><li><a href=#exclude-project-from-indexing-and-antiviruses>Exclude project from indexing and antiviruses</a></li><li><a href=#ignore-unneeded-files>Ignore unneeded files</a></li><li><a href=#free-more-memory>Free more memory</a></li><li><a href=#enable-power-save-mode>Enable power save mode</a></li></ul></nav></aside></main></body></html>